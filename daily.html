<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Checklist - My Space</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 300;
        }

        .date-display {
            margin-top: 10px;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .checklist-form {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #4facfe;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            cursor: pointer;
            accent-color: #4facfe;
        }

        .checkbox-label {
            flex: 1;
            font-size: 1rem;
            cursor: pointer;
            user-select: none;
        }

        .checkbox:checked + .checkbox-label {
            text-decoration: line-through;
            color: #6c757d;
        }

        .notes-section {
            margin-top: 20px;
        }

        .notes-textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .notes-textarea:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }

        .form-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .control-btn {
            background: #4facfe;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .control-btn:hover {
            background: #3a8bfd;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }

        .control-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .control-btn.clear {
            background: #dc3545;
        }

        .control-btn.clear:hover {
            background: #c82333;
        }

        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            font-weight: 500;
            display: none;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            color: #495057;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 12px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #dee2e6;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .footer strong {
            color: #4facfe;
            font-weight: 600;
        }

        .api-config {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .api-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 14px;
            margin-top: 8px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .form-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-btn">‚Üê Back to Home</a>
    
    <div class="container">
        <div class="header">
            <h1>‚úÖ Daily Checklist</h1>
            <div class="date-display" id="currentDate"></div>
        </div>
        
        <div class="content">
            <div class="api-config">
                <strong>üìä SheetDB Configuration</strong>
                <p>Enter your SheetDB API URL to save data to Google Sheets:</p>
                <input type="url" id="sheetdbUrl" class="api-input" placeholder="https://sheetdb.io/api/v1/YOUR_SHEET_ID" value="">
                <small style="display: block; margin-top: 5px; color: #6c757d;">
                    Get your API URL from <a href="https://sheetdb.io" target="_blank" rel="noopener noreferrer">SheetDB.io</a>
                </small>
            </div>

            <form class="checklist-form" id="checklistForm">
                <div class="form-section">
                    <h3 class="section-title">üåÖ Morning Routine</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="morning1" class="checkbox" name="morning_routine" value="wake_up_early">
                        <label for="morning1" class="checkbox-label">Wake up early (before 7 AM)</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="morning2" class="checkbox" name="morning_routine" value="drink_water">
                        <label for="morning2" class="checkbox-label">Drink a glass of water</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="morning3" class="checkbox" name="morning_routine" value="exercise">
                        <label for="morning3" class="checkbox-label">Exercise or stretch (15+ minutes)</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="morning4" class="checkbox" name="morning_routine" value="healthy_breakfast">
                        <label for="morning4" class="checkbox-label">Eat a healthy breakfast</label>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üíº Work & Productivity</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="work1" class="checkbox" name="work_productivity" value="plan_day">
                        <label for="work1" class="checkbox-label">Plan the day's priorities</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="work2" class="checkbox" name="work_productivity" value="focus_work">
                        <label for="work2" class="checkbox-label">Complete 2+ hours of focused work</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="work3" class="checkbox" name="work_productivity" value="check_emails">
                        <label for="work3" class="checkbox-label">Check and respond to emails</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="work4" class="checkbox" name="work_productivity" value="learn_something">
                        <label for="work4" class="checkbox-label">Learn something new (30+ minutes)</label>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üè† Personal & Health</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="personal1" class="checkbox" name="personal_health" value="drink_enough_water">
                        <label for="personal1" class="checkbox-label">Drink 8+ glasses of water</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="personal2" class="checkbox" name="personal_health" value="healthy_meals">
                        <label for="personal2" class="checkbox-label">Eat 3 healthy meals</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="personal3" class="checkbox" name="personal_health" value="connect_people">
                        <label for="personal3" class="checkbox-label">Connect with family/friends</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="personal4" class="checkbox" name="personal_health" value="tidy_space">
                        <label for="personal4" class="checkbox-label">Tidy up living/work space</label>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="section-title">üåô Evening Routine</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="evening1" class="checkbox" name="evening_routine" value="reflect_day">
                        <label for="evening1" class="checkbox-label">Reflect on the day</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="evening2" class="checkbox" name="evening_routine" value="prepare_tomorrow">
                        <label for="evening2" class="checkbox-label">Prepare for tomorrow</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="evening3" class="checkbox" name="evening_routine" value="no_screens">
                        <label for="evening3" class="checkbox-label">No screens 1 hour before bed</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="evening4" class="checkbox" name="evening_routine" value="sleep_early">
                        <label for="evening4" class="checkbox-label">Go to bed before 11 PM</label>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0 of 16 tasks completed (0%)</div>

                <div class="notes-section">
                    <h3 class="section-title">üìù Daily Notes</h3>
                    <textarea class="notes-textarea" id="dailyNotes" name="daily_notes" placeholder="Write your thoughts, achievements, challenges, or anything noteworthy about today..."></textarea>
                </div>

                <div class="form-controls">
                    <button type="submit" class="control-btn" id="saveBtn">üíæ Save to Sheet</button>
                    <button type="button" class="control-btn clear" onclick="clearForm()">üóëÔ∏è Clear All</button>
                </div>

                <div class="status-message" id="statusMessage"></div>
            </form>
        </div>
        
        <div class="footer">
            <p>‚ö° Powered by <strong>Canva AI</strong></p>
        </div>
    </div>

    <script>
        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Load saved SheetDB URL
        const savedUrl = localStorage.getItem('sheetdbUrl');
        if (savedUrl) {
            document.getElementById('sheetdbUrl').value = savedUrl;
        }

        // Save SheetDB URL when changed
        document.getElementById('sheetdbUrl').addEventListener('change', function() {
            localStorage.setItem('sheetdbUrl', this.value);
        });

        // Progress tracking
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checkbox');
            const checked = document.querySelectorAll('.checkbox:checked');
            const total = checkboxes.length;
            const completed = checked.length;
            const percentage = Math.round((completed / total) * 100);

            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${completed} of ${total} tasks completed (${percentage}%)`;
        }

        // Add event listeners to all checkboxes
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', updateProgress);
        });

        // Form submission
        document.getElementById('checklistForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const sheetdbUrl = document.getElementById('sheetdbUrl').value.trim();
            if (!sheetdbUrl) {
                showStatus('Please enter your SheetDB API URL first!', 'error');
                return;
            }

            const saveBtn = document.getElementById('saveBtn');
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '‚è≥ Saving...';
            saveBtn.disabled = true;

            try {
                // Collect form data
                const formData = {
                    date: new Date().toISOString().split('T')[0],
                    timestamp: new Date().toISOString(),
                    
                    // Morning routine
                    wake_up_early: document.getElementById('morning1').checked,
                    drink_water: document.getElementById('morning2').checked,
                    exercise: document.getElementById('morning3').checked,
                    healthy_breakfast: document.getElementById('morning4').checked,
                    
                    // Work & productivity
                    plan_day: document.getElementById('work1').checked,
                    focus_work: document.getElementById('work2').checked,
                    check_emails: document.getElementById('work3').checked,
                    learn_something: document.getElementById('work4').checked,
                    
                    // Personal & health
                    drink_enough_water: document.getElementById('personal1').checked,
                    healthy_meals: document.getElementById('personal2').checked,
                    connect_people: document.getElementById('personal3').checked,
                    tidy_space: document.getElementById('personal4').checked,
                    
                    // Evening routine
                    reflect_day: document.getElementById('evening1').checked,
                    prepare_tomorrow: document.getElementById('evening2').checked,
                    no_screens: document.getElementById('evening3').checked,
                    sleep_early: document.getElementById('evening4').checked,
                    
                    // Notes and progress
                    daily_notes: document.getElementById('dailyNotes').value,
                    completed_tasks: document.querySelectorAll('.checkbox:checked').length,
                    total_tasks: document.querySelectorAll('.checkbox').length,
                    completion_percentage: Math.round((document.querySelectorAll('.checkbox:checked').length / document.querySelectorAll('.checkbox').length) * 100)
                };

                // Send to SheetDB
                const response = await fetch(sheetdbUrl, {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    showStatus('‚úÖ Daily checklist saved successfully to your Google Sheet!', 'success');
                    // Optionally clear form after successful save
                    // clearForm();
                } else {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

            } catch (error) {
                console.error('Error saving to sheet:', error);
                showStatus('‚ùå Error saving to sheet. Please check your SheetDB URL and try again.', 'error');
            } finally {
                saveBtn.innerHTML = originalText;
                saveBtn.disabled = false;
            }
        });

        function showStatus(message, type) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = `status-message status-${type}`;
            statusDiv.style.display = 'block';
            
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }

        function clearForm() {
            if (confirm('Are you sure you want to clear all checkboxes and notes?')) {
                document.querySelectorAll('.checkbox').forEach(checkbox => {
                    checkbox.checked = false;
                });
                document.getElementById('dailyNotes').value = '';
                updateProgress();
                showStatus('Form cleared successfully!', 'success');
            }
        }

        // Initialize progress on page load
        updateProgress();

        // Auto-save to localStorage every 30 seconds
        setInterval(() => {
            const formData = {};
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                formData[checkbox.id] = checkbox.checked;
            });
            formData.notes = document.getElementById('dailyNotes').value;
            localStorage.setItem('dailyChecklistBackup', JSON.stringify(formData));
        }, 30000);

        // Load backup on page load
        window.addEventListener('load', () => {
            const backup = localStorage.getItem('dailyChecklistBackup');
            if (backup) {
                try {
                    const data = JSON.parse(backup);
                    Object.keys(data).forEach(key => {
                        if (key === 'notes') {
                            document.getElementById('dailyNotes').value = data[key];
                        } else {
                            const checkbox = document.getElementById(key);
                            if (checkbox) checkbox.checked = data[key];
                        }
                    });
                    updateProgress();
                } catch (error) {
                    console.error('Error loading backup:', error);
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9879d3ece7392095',t:'MTc1OTI5OTM1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

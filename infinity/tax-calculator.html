<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myanmar Income Tax Calculator</title>
    <link rel="stylesheet" href="../css/style2.css">
</head>
<body>

    <div class="container">
        <h1>Myanmar Income Tax Calculator</h1>

        <label for="income">Annual Salary (MMK):</label>
        <input type="number" id="income" placeholder="Enter annual salary" required>

        <label for="spouse">Spouse (Yes/No):</label>
        <select id="spouse">
            <option value="0">No</option>
            <option value="1000000">Yes</option>
        </select>

        <label for="children">Number of Children:</label>
        <input type="number" id="children" placeholder="Enter number of children" min="0">

        <label for="parents">Number of Parents (Living with you):</label>
        <input type="number" id="parents" placeholder="Enter number of parents" min="0">

        <label for="ssb">SSB & Insurance Deduction (MMK):</label>
        <input type="number" id="ssb" placeholder="Enter SSB amount" min="0">

        <button onclick="calculateTax()">Calculate Tax</button>

        <h2>Tax Calculation Result</h2>
        <div id="result">Your tax amount will be displayed here.</div>

        <a href="../index.html" class="back-btn">Back to Home</a>
    </div>

    <script>
        function calculateTax() {
            let income = parseFloat(document.getElementById('income').value) || 0;
            let spouseAllowance = parseFloat(document.getElementById('spouse').value);
            let children = parseInt(document.getElementById('children').value) || 0;
            let parents = parseInt(document.getElementById('parents').value) || 0;
            let ssb = parseFloat(document.getElementById('ssb').value) || 0;

            // Calculate total allowance
            let childAllowance = children * 500000;
            let parentAllowance = parents * 1000000;
            let totalAllowances = spouseAllowance + childAllowance + parentAllowance + ssb;

            // Taxable Income
            let taxableIncome = Math.max(income - totalAllowances, 0);
            
            let tax = 0;
            if (taxableIncome > 4800000) {
                let taxable = taxableIncome - 4800000;
                if (taxable <= 2000000) {
                    tax += taxable * 0;
                } else if (taxable <= 10000000) {
                    tax += (Math.min(taxable, 10000000) - 2000000) * 0.05;
                } else if (taxable <= 30000000) {
                    tax += (Math.min(taxable, 30000000) - 10000000) * 0.10 + 400000;
                } else if (taxable <= 50000000) {
                    tax += (Math.min(taxable, 50000000) - 30000000) * 0.15 + 2400000;
                } else if (taxable <= 70000000) {
                    tax += (Math.min(taxable, 70000000) - 50000000) * 0.20 + 5400000;
                } else {
                    tax += (taxable - 70000000) * 0.25 + 9400000;
                }
            }

            document.getElementById('result').innerHTML = `<p>Your annual tax is <strong>${tax.toLocaleString()} MMK</strong></p>`;
        }
    </script>

</body>
</html>
